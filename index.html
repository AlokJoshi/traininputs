<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TrainInputs</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="tooltip"></div>
  <!-- initial containing block for the popup is the body -->
  <div id="popup">
    <!-- svg for a steam engine -->
    <div class="popupheader">
      <div class="popupimage">
        <svg height="64" viewBox="0 0 60 44" width="64" xmlns="http://www.w3.org/2000/svg">
          <g id="080---Trainset" fill="none">
            <path id="Shape"
              d="m49.96 3.46-.14.54-2.57 10-3.167 1-3.333-1-2.57-10-.14-.54c-.1344656-.86656971.1169667-1.74858886.6881468-2.41400405s1.4049145-1.04759701 2.2818532-1.04599595h5.99c.8751922.00131951 1.7061712.38475505 2.275106 1.04979369.5689348.66503865.8190913 1.54536281.684894 2.41020631z"
              fill="#2c2f38" />
            <path id="Shape" d="m49.82 4-2.57 10h-6.5l-2.57-10z" fill="#393f4a" />
            <path id="Shape"
              d="m56 32-9.5 1.5c-1.1939625-.0015951-2.3394822.4719984-3.1837419 1.3162581s-1.3178532 1.9897794-1.3162581 3.1837419c.0015951-1.1939625-.4719984-2.3394822-1.3162581-3.1837419s-1.9897794-1.3178532-3.1837419-1.3162581c-2.49 0-3.062.51-3.062 3 0 .53-1.348 1.03-1.178 1.5h-4.07c.52-.88-.19-1.9-.19-3 0-3.31-1.69-4.5-5-4.5-2.5419973-.0028032-4.8080521 1.6014834-5.65 4h-.7c-.8419479-2.3985166-3.1080027-4.0028032-5.65-4-2.22 0-4.16.71-5.19 2.5l-5.81-1c.1013664-1.2791476.85823543-2.4144512 2-3v-20c-1.10320187-.0032948-1.9967052-.89679813-2-2-.00282307-.53059053.2101411-1.0395388.59-1.41.3704612-.3798589.87940947-.59282307 1.41-.59h22c1.1032019.0032948 1.9967052.89679813 2 2-.0081672 1.10116878-.8988312 1.99183278-2 2v8h3c.0081672-1.1011688.8988312-1.9918328 2-2h2c1.1032019.0032948 1.9967052.8967981 2 2h3s0-2.55 3.75-3h6.5c3.75.45 3.75 3 3.75 3s3 2 3 4v8c1.1417646.5855488 1.8986336 1.7208524 2 3z"
              fill="#7f8c8d" />
            <path id="Shape"
              d="m30 35c.0050382 1.0546903-.2748116 2.0911709-.81 3-1.1681906 2.0277253-3.4102631 3.1894759-5.7405265 2.974507-2.3302633-.2149689-4.3219604-1.7672888-5.0994735-3.974507h5.65c1.1011688-.0081672 1.9918328-.8988312 2-2-.0032948-1.1032019-.8967981-1.9967052-2-2h-5.65c.9809071-2.7447334 3.792502-4.3874666 6.6652224-3.8942957 2.8727205.4931709 4.9754523 2.9795653 4.9847776 5.8942957z"
              fill="#c03a2b" />
            <path id="Shape"
              d="m12 37h5.65c-.9087238 2.5765768-3.4452969 4.2121912-6.1672601 3.9767272-2.7219633-.2354639-4.9399788-2.2823748-5.3927399-4.9767272-.06059363-.3298693-.09072051-.6646124-.09-1-.00503816-1.0546903.2748116-2.0911709.81-3 1.16819055-2.0277253 3.4102631-3.1894759 5.7405265-2.974507 2.3302633.2149689 4.3219604 1.7672888 5.0994735 3.974507h-5.65c-1.1011688.0081672-1.9918328.8988312-2 2 .0032948 1.1032019.8967981 1.9967052 2 2z"
              fill="#c03a2b" />
            <path id="Shape"
              d="m37.5 32c-1.1939625-.0015951-2.3394822.4719984-3.1837419 1.3162581s-1.3178532 1.9897794-1.3162581 3.1837419c-.0015776.5113454.0864185 1.0190155.26 1.5.7629343 2.1579027 3.0240986 3.3993633 5.25431 2.8848053s3.7188983-2.6211904 3.4592896-4.8952212c-.2596086-2.2740308-2.1847984-3.9909271-4.4735996-3.9895841zm0 6c-.8284271 0-1.5-.6715729-1.5-1.5s.6715729-1.5 1.5-1.5 1.5.6715729 1.5 1.5-.6715729 1.5-1.5 1.5z"
              fill="#c03a2b" />
            <path id="Rectangle-path" d="m3 21h51v4h-51z" fill="#e64c3c" />
            <path id="Rectangle-path" d="m21 9h4v12h-4z" fill="#c03a2b" />
            <path id="Rectangle-path" d="m3 9h4v12h-4z" fill="#c03a2b" />
            <path id="Shape"
              d="m56 32h-9.5c-1.1939625-.0015951-2.3394822.4719984-3.1837419 1.3162581s-1.3178532 1.9897794-1.3162581 3.1837419c-.0000001-2.4852813-2.0147187-4.4999999-4.5-4.4999999s-4.4999999 2.0147186-4.5 4.4999999c-.0015776.5113454.0864185 1.0190155.26 1.5h-4.07c.5351884-.9088291.8150382-1.9453097.81-3-.0093253-2.9147304-2.1120571-5.4011248-4.9847776-5.8942957-2.8727204-.4931709-5.6843153 1.1495623-6.6652224 3.8942957h-.7c-.7775131-2.2072182-2.7692102-3.7595381-5.0994735-3.974507-2.3302634-.2149689-4.57233595.9467817-5.7405265 2.974507h-5.81c.1013664-1.2791476.85823543-2.4144512 2-3v-4h51v4c1.1417646.5855488 1.8986336 1.7208524 2 3z"
              fill="#393f4a" />
            <path id="Shape"
              d="m46.5 32c-2.2888012-.001343-4.213991 1.7155533-4.4735996 3.9895841-.2596087 2.2740308 1.2290782 4.3806632 3.4592896 4.8952212s4.4913757-.7269026 5.25431-2.8848053c.1735815-.4809845.2615776-.9886546.26-1.5.0015951-1.1939625-.4719984-2.3394822-1.3162581-3.1837419s-1.9897794-1.3178532-3.1837419-1.3162581zm0 6c-.8284271 0-1.5-.6715729-1.5-1.5s.6715729-1.5 1.5-1.5 1.5.6715729 1.5 1.5-.6715729 1.5-1.5 1.5z"
              fill="#c03a2b" />
            <path id="Shape"
              d="m58.13 38h-7.39c.1735815-.4809845.2615776-.9886546.26-1.5.0015951-1.1939625-.4719984-2.3394822-1.3162581-3.1837419s-1.9897794-1.3178532-3.1837419-1.3162621l9.5.000004 2.96 4.45c.2062271.3055996.2263714.7002395.0523337 1.0252497-.1740377.3250101-.5136663.5269974-.8823337.5247503z"
              fill="#e64c3c" />
            <path id="Shape"
              d="m6 35c-.00072051.3353876.02940637.6701307.09 1h-3.09c-1.10320187-.0032948-1.9967052-.8967981-2-2v-2h5.81c-.5351884.9088291-.81503816 1.9453097-.81 3z"
              fill="#e64c3c" />
            <path id="Rectangle-path" d="m7 9h8v12h-8z" fill="#3b97d3" />
            <path id="Rectangle-path" d="m15 9h6v12h-6z" fill="#2980ba" />
            <circle id="Oval" cx="37.5" cy="36.5" fill="#bdc3c7" r="1.5" />
            <circle id="Oval" cx="46.5" cy="36.5" fill="#bdc3c7" r="1.5" />
            <path id="Shape"
              d="m54 44h-48c-.55228475 0-1-.4477153-1-1s.44771525-1 1-1h48c.5522847 0 1 .4477153 1 1s-.4477153 1-1 1z"
              fill="#393f4a" />
            <path id="Shape"
              d="m2 44h-1c-.55228475 0-1-.4477153-1-1s.44771525-1 1-1h1c.55228475 0 1 .4477153 1 1s-.44771525 1-1 1z"
              fill="#393f4a" />
            <path id="Shape"
              d="m59 44h-1c-.5522847 0-1-.4477153-1-1s.4477153-1 1-1h1c.5522847 0 1 .4477153 1 1s-.4477153 1-1 1z"
              fill="#393f4a" />
            <g fill="#2c2f38">
              <path id="Shape"
                d="m24 42c-2.9681641.003543-5.6138358-1.8706918-6.595-4.672-.1693705-.5181636.1074829-1.0765125.622456-1.2553492.5149732-.1788366 1.0783013.0877394 1.266544.5993492.6493969 1.8374033 2.3088339 3.1287819 4.2494592 3.3069412 1.9406252.1781593 3.8074526-.7894903 4.7805408-2.4779412.4479926-.7569271.6816668-1.6214525.676-2.501-.0083345-2.4274149-1.7589555-4.4981658-4.15115-4.9102562-2.3921944-.4120904-4.7347831.9535455-5.55485 3.2382562-.1882427.5116098-.7515708.7781858-1.266544.5993492-.5149731-.1788367-.7918265-.7371856-.622456-1.2553492 1.1407442-3.2062703 4.4221719-5.1275534 7.7765031-4.5531597 3.3543313.5743938 5.809545 3.4780161 5.8184969 6.8811597.0029066 1.2333208-.324425 2.444931-.948 3.509-1.2508924 2.1591981-3.5566313 3.4892269-6.052 3.491z" />
              <path id="Shape"
                d="m12 42c-3.42225043.0153336-6.34784673-2.4595513-6.9-5.837-.06890793-.3837824-.10238217-.7730878-.1-1.163-.00290657-1.2333208.32442499-2.444931.948-3.509 1.36563789-2.3661923 3.98449298-3.7200837 6.7046695-3.466169 2.7201765.2539146 5.0432137 2.0691066 5.9473305 4.647169.1693705.5181636-.1074829 1.0765125-.622456 1.2553492-.5149732.1788366-1.0783013-.0877394-1.266544-.5993492-.6493969-1.8374033-2.3088339-3.1287819-4.2494592-3.3069412-1.9406252-.1781593-3.80745257.7894903-4.7805408 2.4779412-.44974293.7564251-.68515429 1.6209828-.681 2.501-.00100881.2740059.02342944.5475135.073.817.36894601 2.2491999 2.2144894 3.9628831 4.4848232 4.164392s4.3888529-1.1603344 5.1481768-3.309392c.1882427-.5116098.7515708-.7781858 1.266544-.5993492.5149731.1788367.7918265.7371856.622456 1.2553492-.9811642 2.8013082-3.6268359 4.675543-6.595 4.672z" />
              <path id="Shape"
                d="m37.5 42c-3.0375661 0-5.5-2.4624339-5.5-5.5s2.4624339-5.5 5.5-5.5 5.5 2.4624339 5.5 5.5c-.0038566 3.0359672-2.4640328 5.4961434-5.5 5.5zm0-9c-1.9329966 0-3.5 1.5670034-3.5 3.5s1.5670034 3.5 3.5 3.5 3.5-1.5670034 3.5-3.5-1.5670034-3.5-3.5-3.5z" />
              <path id="Shape"
                d="m46.5 42c-3.0375661 0-5.5-2.4624339-5.5-5.5s2.4624339-5.5 5.5-5.5 5.5 2.4624339 5.5 5.5c-.0038566 3.0359672-2.4640328 5.4961434-5.5 5.5zm0-9c-1.9329966 0-3.5 1.5670034-3.5 3.5s1.5670034 3.5 3.5 3.5 3.5-1.5670034 3.5-3.5-1.5670034-3.5-3.5-3.5z" />
            </g>
            <path id="Shape"
              d="m26 35c-.0081672 1.1011688-.8988312 1.9918328-2 2h-12c-1.1032019-.0032948-1.9967052-.8967981-2-2 .0081672-1.1011688.8988312-1.9918328 2-2h12c1.1032019.0032948 1.9967052.8967981 2 2z"
              fill="#e4c05c" />
          </g>
        </svg>
      </div>
      <div class="popuptitle">
        Info
      </div>
    </div>
    <div class="popupbody">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptate ad, eaque aperiam, sit debitis possimus
      veritatis beatae, similique eum maiores placeat non corporis rerum! Provident voluptatem accusamus quidem
      deleniti error?
    </div>
  </div>

  <div id="noncanvases">
    <nav class="navbar">
      <div class="brand-title">Train Tycoon</div>
      <div class="navbar-links">
        <ul>
          <li><a href="#how">How</a></li>
          <li><a href="#info">Info</a></li>
          <li><a href="#objective">Objective</a></li>
          <li><a href="#performance">Performance</a></li>
          <li><a href="#contact">Contact</a></li>
          <li><button id="btn-login" disabled="true" onclick="login()">Log in</button></li>
          <li><button id="btn-logout" disabled="true" onclick="logout()">Log out</button></li>
        </ul>
      </div>
    </nav>
    <div class="content">
      <div id='objective'>
        <h3>Objective</h3>
        <p>The objective of the game is to become a Train Tycoon - by amassing a lot of money.</p>
        <p>You start with G$ 1,000,000</p>
        <p>You decide on the number of trains to start</p>
        <p>You decide on the route you want your train to take and the stations it must stop and the number of
          passenger
          coaches it must have</p>
        <p>If you spend too much money (beyond what you have) you will be charged a steep interst rate (10%) by your
          bank/financiers</p>
        <p>You earn a little interest (5%) on the money you have in the bank</p>
        <p>You can review Passenger Demand and Ticket Prices in the Info menu item.</p>
        <p>Your performance in terms of the G$ is shown on the top left of your screen along with the current period
          you
          are in. This also shows the State you are in and your options.
          You can review your detailed performance in the Performance menu item.</p>
        Also note that the color of the coaches varies from light red to dark red based on the occupancy of the
        train. Higher the occupancy, darker the color.
        <p>You train-wise performance can be seen on the left of your game screen (most recent on top). You can
          switch
          between the trains by pressing the <keytype>n</keytype> (next train info> key in the Running state.
        </p>
        <p>Note that the data is not saved anywhere. Hence you will need to start again once you close the Game
          browser
          window
          or the computer.
        </p>
        <p>Try and become a Train Tycoon by Pd 500.</p>
        <p>You can speed up the game by clicking on the <keytype>+</keytype> key once or repeatedly in the Running
          state.
          This makes the time
          pass fast.
          Similarly the game slows down with the <keytype>-</keytype> key. <keytype>p</keytype> key is ofcourse for
          pausing the game. Once you are in the Paused
          state you can add another route, by first pressing the <keytype>r</keytype> key to get into the route
          editing
          state and then by pressing the
          <keytype>a</keytype> key to add a route and then clicking on the starting station and so forth. Similarly
          from
          the paused state you can add or remove coaches
          in any of the existing trains. You do this by first pressing the <keytype>t</keytype> for getting in to
          the
          Train Editing state and then selecting the right
          train by pressing the <keytype>n</keytype> key and once the correct train is selected, pressing the
          <keytype>+
          </keytype> to add a coach and <keytype>-</keytype> to
          remove a coach.
        </p>
      </div>
      <div id="info">
        <h4>Info</h4>
        <p>Passenger Estimates</p>
        <table id="passengers">
        </table>
        <p>Ticket Prices</p>
        <table id="ticketprices">
        </table>
        <h4>Costs in G$(Game Dollars)</h4>
        <p><b>Track:</b> Depends on the distance. It is about G$ 1000
          per unit distance ie per pixel on the screen. However going over
          the lake, while possible, will cost you about 20 times of the
          regular track cost. Similarly you can go under the snow covered mountain
          through a tunnel but that too will cost you 20 times the regular track
          cost.
        </p>
        <p><b>Engine:</b> The Engine costs G$ 100000
          and this engine can pull any number of passenger coaches</p>
        <p><b>Passenger Coach:</b> Each Passenger Coach costs G$ 20000.
          Note that if you reduce the number of coaches, the coach does not earn
          you any resale. Each passenger coach has a capacity of 30
          passengers. Also note that when passengers are boarded, the passengers
          for the farthest destination are boarded first and so on for the
          remaining destinations (from farthest to closest destination) if there is any coach capacity left.
        </p>
        <p><b>Station:</b> Each Station costs G$ 50000.
        </p>
        <p><b>Maintainance Cost:</b> This proportional to the total capital cost
        </p>
        <p><b>Running Cost:</b> This proportional to the total track length, and number of Stations
        </p>
        <p><b>Depreciation Cost:</b> The depreciation is calculated internally to work out the profit after
          depreciation
          for
          taxation purposes. The depreciation is a straight line depreciation over 200 periods.
          However, it flows back in to the cash and your cash balance reflects that.
        </p>
        <p>You have no control over Maintenance Cost, Running Cost and Depreciation</p>
        <p>Once a train is started on any given route, there is no way to stop the train in this version of the
          game.
        </p>
        <h4>Switching Between Game Screen and this screen</h4>
        <p>The <keytype>space</keytype> bar will switch between the game screen and this screen.</p>
      </div>
      <div id='how'>
        <h3>How to Play</h3>
        <p>At any time you will be in one of the following stages(states) of play</p>
        <h4>Route Editing State</h4>
        <p>Here the idea is to identify the route that your train should take between two or more cities. So you
          will
          click on one city and then on another city or a point between those cities and so on tracing the route
          from
          one
          city to 2 or more
          cities. As you continue to click, you will see lines between those points. While you will be clicking to
          draw
          straight
          lines, the game will automatically create curved lines between each pair of straight lines that meet an an
          angle.
          Note that since the train cannot take sharp turns, the angle beween 2 lines cannot be less than 90
          degrees.
          Similarly each line
          has to be a reasonable size. These two are incorporated in the user interface by ensuring that the click
          results
          in a line only
          if both these conditions are true.
          If you to delete the last point you clicked, you can press the <keytype>d</keytype> key. If you have
          completed
          one route
          and want to create another route, you will press the <keytype>a</keytype> key. This will start the process
          of
          adding another
          route. Any number of routes can start at a city or end at a city or transit through a city.
          Once you have created the routes, they cannot be edited or deleted.
          When you have created one or more routes, you can press the <keytype>g</keytype> key to get into the game
          mode.
          However by
          default a train will get only one coach. If you want to add a additional coach you should press the
          <keytype>t
          </keytype> key for Train Editing
          and add a coach by pressing the <keytype>+</keytype> key.
          A separate train will run on each of the routes.
          Cost of the track is proportional to the distance of the route.
        </p>
        <h4>Train Editing State</h4>
        <p>Each route will automatically get one train. By default the train will consist of an engine and one
          passenger
          coach. If you want to add
          another coach to the train, you will need to press the plus(<keytype>+</keytype>) key. To remove one coach
          from
          the train you will
          press the minus key(<keytype>-</keytype>).
        </p>
        <h4>Paused State</h4>
        <p>You can pause the game. When you do this you will be in a Paused State. Time stops in this state. Once
          you
          are
          in the paused state you can go to Route Editing State (r key), Train Editing State(t key). Note that when
          you
          come
          back to Route Editing State from the Paused state, you have to click on the a key to start adding another
          route.
          You go back to the running state by pressing the <keytype>g</keytype> key.
        </p>
        <h4>Running State</h4>
        <p>In this state you should see your trains moving around from one station to another. Also in this state on
          the
          left
          of your screen you should see the number of passengers the train has boarded for each of the destinations
          and
          the
          money that has earned you. In this state, if you hover your cursor over any city, you get to see some
          relevant
          info.
        </p>
        <p>Press <keytype>space</keytype> key to switch back to the game graphics screen</p>
        <h4>How to get to these states?</h4>
        <p>Here again we use keyboard keys to get to various states</p>
        <p>The keys you can press to get to various states are shown at the very top of the game graphics screen at
          all
          times</p>
        <p>You always start in the Route Editing state</p>
        <p>Typically once you finish creating a route you will press the <keytype>t</keytype> key to switch to the
          Train
          Editing state
          and add additional coaches if you need to</p>
        <p>Having done this you will typically switch to the Running State by pressing the <keytype>g</keytype> key
          to
          resume the game.</p>
        <p>
          <keytype>d</keytype> will switch you to the Route Editing State if you are not in Running State
        </p>
        <p>Generally speaking you will use the following keys to switch to various states</p>
        <p>
          <keytype>t</keytype> will switch you to the Train Editing State if you are not in Running State. To go
          from
          Running State to Train Editing State
          you have to press the <keytype>p</keytype> key to go to Paused State
        </p>
        <p>
          <keytype>p</keytype> will switch you to the Paused State if you are in the Running State
        </p>
        <p>
          <keytype>g</keytype> for game, will switch you to the Running State
        </p>
        <p>
          <keytype>space</keytype> key, will switch you to the documentation screen. If you are already in this
          screen,
          the <keytype>space</keytype> key
          will switch you back to the Game graphics screen
        </p>
      </div>
      <div id='contact'>
        <h3>Contact</h3>
        <p>I am the developer responsible for the bugs that you are encountering. Give me as much detail as possible
          so
          that
          I can
          reproduce the bug. I will try and fix the bugs as soon as possible.</p>
        <p>Similarly, if you have suggestions I will gladly listen to them.</p>
        <p>Contact me at ajoshi@flash.net</p>
      </div>

      <div id='performance'>
        <h3>Performance</h3>
        <table id="performancetable"></table>
      </div>
      <div class="hidden" id="gated-content">
        <p>
          You are seeing this content because you are currently logged in.
        </p>
        <label>
          Access token:
          <pre id="ipt-access-token"></pre>
        </label>
        <label>
          User profile:
          <pre id="ipt-user-profile"></pre>
        </label>
      </div>
    </div>
  </div>
  <div id="canvases">
    <canvas id="background"></canvas>
    <canvas id="foreground"></canvas>
    <canvas id="routedesign"></canvas>
    <canvas id="hud"></canvas>
  </div>

  <script src="https://cdn.auth0.com/js/auth0-spa-js/1.9/auth0-spa-js.production.js"></script>
  <script src="navbar.js"></script>
  <script src="popup.js"></script>
  <script src="segments.js"></script>
  <script src="keybuffer.js"></script>
  <script src="hud.js"></script>
  <script src="tooltip.js"></script>
  <script src="utils.js"></script>
  <script src="city.js"></script>
  <script src="cities.js"></script>
  <script src="tickets.js"></script>
  <script src="passengers.js"></script>
  <script src="train.js"></script>
  <script src="linseg.js"></script>
  <script src="quadseg.js"></script>
  <script src="point.js"></script>
  <script src="path.js"></script>
  <script src="paths.js"></script>
  <script src="station.js"></script>
  <script type="text/javascript" src="gui.js"></script>
  <script src="cash.js"></script>
  <script src="cashflow.js"></script>
  <script src="game.js"></script>
  <script src="script.js"></script>
</body>

</html>